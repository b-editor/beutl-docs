---
title: キャッシュ
description: Beutlでの描画キャッシュの生成判定を説明します
---

## キャッシュ
このようなノードについて考えます。
```
1. 描画ノード
2. └ トランスフォームノード
3. 　 └ エフェクトノード (ドロップシャドウ, アニメーションあり)
4. 　 　 └ エフェクトノード (縁取り)
5. 　 　 　 └ 図形ノード
```
トランスフォームノード、図形ノードはアニメーションなし。

結論から言うと、
この例では数フレーム描画されると、
Beutlはエフェクトノード内の4までをキャッシュします。  
以下でなぜそうなるのかを説明します。

## キャッシュ可能かの判断
3フレーム以上同じ状態だとキャッシュ可能と判断します。
ノードの描画時にカウントして、ノードが変わるとカウントをゼロにします。
このカウントが3以上になると**キャッシュ可能**と判断します。

ノードが**キャッシュ可能**かつ、すべての子要素が**キャッシュ可能**である場合、
そのノードの描画内容をキャッシュします。
